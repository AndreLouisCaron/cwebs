<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>cwebs: code/iwire.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">cwebs&#160;<span id="projectnumber">0.2.1</span></div>
   <div id="projectbrief">WebSocket wire protocol</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('iwire_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">code/iwire.c File Reference</div>  </div>
</div>
<div class="contents">

<p>Web Socket wire protocol (in-bound) for C.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="iwire_8h_source.html">iwire.h</a>&quot;</code><br/>
</div>
<p><a href="iwire_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iwire_8c.html#aada87a113d41141ad923ed52566ada8a">ws_iwire_init</a> (struct <a class="el" href="structws__iwire.html">ws_iwire</a> *stream)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a parser.  <a href="#aada87a113d41141ad923ed52566ada8a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a29940ae63ec06c9998bba873e25407ad">uint64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iwire_8c.html#a95676a7e0a6eda269600bd22670a0809">ws_iwire_feed</a> (struct <a class="el" href="structws__iwire.html">ws_iwire</a> *stream, const void *data, <a class="el" href="types_8h.html#a29940ae63ec06c9998bba873e25407ad">uint64</a> size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Consume available data and trigger appropriate application callbacks.  <a href="#a95676a7e0a6eda269600bd22670a0809"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iwire_8c.html#a1a5f886c8873de1b95241f71cc4c5a42">ws_iwire_mask</a> (const struct <a class="el" href="structws__iwire.html">ws_iwire</a> *stream)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the current frame is masked.  <a href="#a1a5f886c8873de1b95241f71cc4c5a42"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iwire_8c.html#ad5018c9617b70b1f51a5ca6e4e1ed828">ws_iwire_last</a> (const struct <a class="el" href="structws__iwire.html">ws_iwire</a> *stream)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the current frame is the message's last fragment.  <a href="#ad5018c9617b70b1f51a5ca6e4e1ed828"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iwire_8c.html#a68989aa84e350daf1f1231d21fee0155">ws_iwire_ping</a> (const struct <a class="el" href="structws__iwire.html">ws_iwire</a> *stream)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the current frame is a ping message.  <a href="#a68989aa84e350daf1f1231d21fee0155"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iwire_8c.html#a16b038ba0e61855f449d7e01d99b9905">ws_iwire_pong</a> (const struct <a class="el" href="structws__iwire.html">ws_iwire</a> *stream)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the current frame is a pong message.  <a href="#a16b038ba0e61855f449d7e01d99b9905"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iwire_8c.html#a3b24feccbba88b4a379ff37c1a8300c4">ws_iwire_text</a> (const struct <a class="el" href="structws__iwire.html">ws_iwire</a> *stream)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the current fragment is a UTF-8 text message.  <a href="#a3b24feccbba88b4a379ff37c1a8300c4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iwire_8c.html#a78a4e59369847dca0d4c02ef3a97becf">ws_iwire_data</a> (const struct <a class="el" href="structws__iwire.html">ws_iwire</a> *stream)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the current fragment is a binary message.  <a href="#a78a4e59369847dca0d4c02ef3a97becf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iwire_8c.html#ac96d72a9748e85f143adefaa52a3b8b9">ws_iwire_dead</a> (const struct <a class="el" href="structws__iwire.html">ws_iwire</a> *stream)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the current fragment is a close frame.  <a href="#ac96d72a9748e85f143adefaa52a3b8b9"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Web Socket wire protocol (in-bound) for C. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a href="http://tools.ietf.org/html/rfc6455">http://tools.ietf.org/html/rfc6455</a> </dd></dl>

<p>Definition in file <a class="el" href="iwire_8c_source.html">iwire.c</a>.</p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a78a4e59369847dca0d4c02ef3a97becf"></a><!-- doxytag: member="iwire.c::ws_iwire_data" ref="a78a4e59369847dca0d4c02ef3a97becf" args="(const struct ws_iwire *stream)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ws_iwire_data </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structws__iwire.html">ws_iwire</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if the current fragment is a binary message. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>The current parser state. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if the fragment contains a binary payload, else 0.</dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>This cannot be used inside the <code><a class="el" href="structws__iwire.html#af18ce4889a6eb4844285c8af95016ea6" title="Called to signal that a new message has started.">ws_iwire::new_message</a></code> callback because that callback is triggered before the message frame is parsed.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structws__iwire.html#a00d30cb856c0a8401b67bf552e9b537a" title="Called to signal that a new message fragment has arrived.">ws_iwire::new_fragment</a> </dd>
<dd>
<a class="el" href="structws__iwire.html#abfd59f1a86e45672e382027985e7aecb" title="Called to signal that some of the message payload is available.">ws_iwire::accept_content</a> </dd></dl>

<p>Definition at line <a class="el" href="iwire_8c_source.html#l00446">446</a> of file <a class="el" href="iwire_8c_source.html">iwire.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac96d72a9748e85f143adefaa52a3b8b9"></a><!-- doxytag: member="iwire.c::ws_iwire_dead" ref="ac96d72a9748e85f143adefaa52a3b8b9" args="(const struct ws_iwire *stream)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ws_iwire_dead </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structws__iwire.html">ws_iwire</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if the current fragment is a close frame. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>The current parser state. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if the fragment is the last message, else 0.</dd></dl>
<p>Closing frames may supply a 16-bit unsigned integer and a UTF-8 payload to describe the reason for closing the connection. Interpretation of the status code and error text are up to the application. The WebSocket specification does not require the UTF-8 error text to be human readable.</p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>This cannot be used inside the <code><a class="el" href="structws__iwire.html#af18ce4889a6eb4844285c8af95016ea6" title="Called to signal that a new message has started.">ws_iwire::new_message</a></code> callback because that callback is triggered before the message frame is parsed.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structws__iwire.html#a00d30cb856c0a8401b67bf552e9b537a" title="Called to signal that a new message fragment has arrived.">ws_iwire::new_fragment</a> </dd>
<dd>
<a class="el" href="structws__iwire.html#abfd59f1a86e45672e382027985e7aecb" title="Called to signal that some of the message payload is available.">ws_iwire::accept_content</a> </dd>
<dd>
<a class="el" href="structws__iwire.html#a8ab9417efe9c6d1386b7756b07c3e705" title="Called to signal that all message fragments were parsed.">ws_iwire::end_message</a> </dd></dl>

<p>Definition at line <a class="el" href="iwire_8c_source.html#l00451">451</a> of file <a class="el" href="iwire_8c_source.html">iwire.c</a>.</p>

</div>
</div>
<a class="anchor" id="a95676a7e0a6eda269600bd22670a0809"></a><!-- doxytag: member="iwire.c::ws_iwire_feed" ref="a95676a7e0a6eda269600bd22670a0809" args="(struct ws_iwire *stream, const void *data, uint64 size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a29940ae63ec06c9998bba873e25407ad">uint64</a> ws_iwire_feed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structws__iwire.html">ws_iwire</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a29940ae63ec06c9998bba873e25407ad">uint64</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Consume available data and trigger appropriate application callbacks. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>The current parser state. </td></tr>
    <tr><td class="paramname">data</td><td>Array of bytes available to the parser. Accessing past <em>size</em> bytes in this array results in undefined behavior. </td></tr>
    <tr><td class="paramname">size</td><td>Number of bytes in <em>data</em> the state can process. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes consumed by the state. This is normally always equal to <em>size</em>. If they are different, an error most likely occured in parsing. However, the returned value being equal to <em>size</em> does not guarantee the absence of an error.</dd></dl>
<p>This function always consumes as much data as it can. Therefore, a single invocation of this function may happend to parse many messages if lots of data has accumulated in the application's buffers. It is recommended that the application call this method often to ensure prompt responses and low latency. </p>

<p>Definition at line <a class="el" href="iwire_8c_source.html#l00416">416</a> of file <a class="el" href="iwire_8c_source.html">iwire.c</a>.</p>

</div>
</div>
<a class="anchor" id="aada87a113d41141ad923ed52566ada8a"></a><!-- doxytag: member="iwire.c::ws_iwire_init" ref="aada87a113d41141ad923ed52566ada8a" args="(struct ws_iwire *stream)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ws_iwire_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structws__iwire.html">ws_iwire</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize a parser. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>Uninitialized parser object.</td></tr>
  </table>
  </dd>
</dl>
<p>Invoking this function clears <em>all</em> state, including application callbacks. </p>

<p>Definition at line <a class="el" href="iwire_8c_source.html#l00401">401</a> of file <a class="el" href="iwire_8c_source.html">iwire.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad5018c9617b70b1f51a5ca6e4e1ed828"></a><!-- doxytag: member="iwire.c::ws_iwire_last" ref="ad5018c9617b70b1f51a5ca6e4e1ed828" args="(const struct ws_iwire *stream)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ws_iwire_last </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structws__iwire.html">ws_iwire</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if the current frame is the message's last fragment. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>The current parser state. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if the fragment ends a message, else 0.</dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>This cannot be used inside the <code><a class="el" href="structws__iwire.html#af18ce4889a6eb4844285c8af95016ea6" title="Called to signal that a new message has started.">ws_iwire::new_message</a></code> callback because that callback is triggered before the message frame is parsed.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structws__iwire.html#a00d30cb856c0a8401b67bf552e9b537a" title="Called to signal that a new message fragment has arrived.">ws_iwire::new_fragment</a> </dd></dl>

<p>Definition at line <a class="el" href="iwire_8c_source.html#l00426">426</a> of file <a class="el" href="iwire_8c_source.html">iwire.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1a5f886c8873de1b95241f71cc4c5a42"></a><!-- doxytag: member="iwire.c::ws_iwire_mask" ref="a1a5f886c8873de1b95241f71cc4c5a42" args="(const struct ws_iwire *stream)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ws_iwire_mask </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structws__iwire.html">ws_iwire</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if the current frame is masked. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>The current parser state. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if the fragment is masked, else 0.</dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>This cannot be used inside the <code><a class="el" href="structws__iwire.html#af18ce4889a6eb4844285c8af95016ea6" title="Called to signal that a new message has started.">ws_iwire::new_message</a></code> callback because that callback is triggered before the message frame is parsed.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structws__iwire.html#a00d30cb856c0a8401b67bf552e9b537a" title="Called to signal that a new message fragment has arrived.">ws_iwire::new_fragment</a> </dd>
<dd>
ws_iwire::reqm </dd></dl>

<p>Definition at line <a class="el" href="iwire_8c_source.html#l00421">421</a> of file <a class="el" href="iwire_8c_source.html">iwire.c</a>.</p>

</div>
</div>
<a class="anchor" id="a68989aa84e350daf1f1231d21fee0155"></a><!-- doxytag: member="iwire.c::ws_iwire_ping" ref="a68989aa84e350daf1f1231d21fee0155" args="(const struct ws_iwire *stream)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ws_iwire_ping </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structws__iwire.html">ws_iwire</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if the current frame is a ping message. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>The current parser state. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if the fragment consists of a ping message, else 0.</dd></dl>
<p>The application should respond with a pong message containing identical data. Ping pong messages help reset timeouts, ensuring the connection is not killed until either peer decides to close it.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Ping and pong messages implement "heartbeats". This helps reset timeouts, ensuring the connection is not killed until either peer decides to close it.</dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>This cannot be used inside the <code><a class="el" href="structws__iwire.html#af18ce4889a6eb4844285c8af95016ea6" title="Called to signal that a new message has started.">ws_iwire::new_message</a></code> callback because that callback is triggered before the message frame is parsed.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structws__iwire.html#a00d30cb856c0a8401b67bf552e9b537a" title="Called to signal that a new message fragment has arrived.">ws_iwire::new_fragment</a> </dd>
<dd>
<a class="el" href="structws__iwire.html#abfd59f1a86e45672e382027985e7aecb" title="Called to signal that some of the message payload is available.">ws_iwire::accept_content</a> </dd></dl>

<p>Definition at line <a class="el" href="iwire_8c_source.html#l00431">431</a> of file <a class="el" href="iwire_8c_source.html">iwire.c</a>.</p>

</div>
</div>
<a class="anchor" id="a16b038ba0e61855f449d7e01d99b9905"></a><!-- doxytag: member="iwire.c::ws_iwire_pong" ref="a16b038ba0e61855f449d7e01d99b9905" args="(const struct ws_iwire *stream)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ws_iwire_pong </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structws__iwire.html">ws_iwire</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if the current frame is a pong message. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>The current parser state. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if the fragment consists of a pong message, else 0.</dd></dl>
<p>The application should validate that the pong message contains data identical to that sent in a ping message. Note that the WebSocket specification allows unsolicited pong messages for implementation of unidirectional heartbeats. This may be useful if the application wants to test the socket for writability, which is the only reliable way to determine if a TCP connection has been broken).</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Ping and pong messages implement "heartbeats". This helps reset timeouts, ensuring the connection is not killed until either peer decides to close it.</dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>This cannot be used inside the <code><a class="el" href="structws__iwire.html#af18ce4889a6eb4844285c8af95016ea6" title="Called to signal that a new message has started.">ws_iwire::new_message</a></code> callback because that callback is triggered before the message frame is parsed.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structws__iwire.html#a00d30cb856c0a8401b67bf552e9b537a" title="Called to signal that a new message fragment has arrived.">ws_iwire::new_fragment</a> </dd>
<dd>
<a class="el" href="structws__iwire.html#abfd59f1a86e45672e382027985e7aecb" title="Called to signal that some of the message payload is available.">ws_iwire::accept_content</a> </dd></dl>

<p>Definition at line <a class="el" href="iwire_8c_source.html#l00436">436</a> of file <a class="el" href="iwire_8c_source.html">iwire.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3b24feccbba88b4a379ff37c1a8300c4"></a><!-- doxytag: member="iwire.c::ws_iwire_text" ref="a3b24feccbba88b4a379ff37c1a8300c4" args="(const struct ws_iwire *stream)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ws_iwire_text </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structws__iwire.html">ws_iwire</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if the current fragment is a UTF-8 text message. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>The current parser state. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if the fragment contains a UTF-8 payload, else 0.</dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>This cannot be used inside the <code><a class="el" href="structws__iwire.html#af18ce4889a6eb4844285c8af95016ea6" title="Called to signal that a new message has started.">ws_iwire::new_message</a></code> callback because that callback is triggered before the message frame is parsed.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structws__iwire.html#a00d30cb856c0a8401b67bf552e9b537a" title="Called to signal that a new message fragment has arrived.">ws_iwire::new_fragment</a> </dd>
<dd>
<a class="el" href="structws__iwire.html#abfd59f1a86e45672e382027985e7aecb" title="Called to signal that some of the message payload is available.">ws_iwire::accept_content</a> </dd></dl>

<p>Definition at line <a class="el" href="iwire_8c_source.html#l00441">441</a> of file <a class="el" href="iwire_8c_source.html">iwire.c</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="iwire_8c.html">iwire.c</a>      </li>
      <li class="footer">Generated on Thu Feb 2 2012 23:22:16 for cwebs by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
